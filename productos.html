<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TechConnect | Plataforma de Servicios Técnicos</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background: #fafafa;
        }
        
        .minimal-shadow {
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
        }
        
        .minimal-shadow-hover:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }
        
        .gradient-text {
            background: linear-gradient(135deg, #000 0%, #3f3f3f 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .btn-primary {
            background: #000;
            color: #fff;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover:not(:disabled) {
            background: #2a2a2a;
            transform: translateY(-1px);
        }
        
        .btn-primary:disabled {
            background: #6b7280;
            cursor: not-allowed;
            opacity: 0.6;
        }
        
        .btn-secondary {
            background: #fff;
            color: #000;
            border: 1px solid #e5e5e5;
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: #f5f5f5;
            border-color: #d4d4d4;
        }
        
        .input-minimal {
            border: 1px solid #e5e5e5;
            transition: all 0.3s ease;
        }
        
        .input-minimal:focus {
            outline: none;
            border-color: #000;
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
        }
        
        .card-minimal {
            background: #fff;
            border: 1px solid #e5e5e5;
            transition: all 0.3s ease;
        }
        
        .card-minimal:hover {
            border-color: #000;
            transform: translateY(-2px);
        }
        
        .rating-star {
            color: #d4d4d4;
            transition: color 0.2s ease;
        }
        
        .rating-star.filled {
            color: #000;
        }
        
        .tag-minimal {
            background: #f5f5f5;
            color: #000;
            border: 1px solid #e5e5e5;
            transition: all 0.2s ease;
        }
        
        .tag-minimal:hover {
            background: #000;
            color: #fff;
        }
        
        .modal-overlay {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow-y: auto;
        }
        
        .modal-overlay::-webkit-scrollbar {
            width: 8px;
        }
        
        .modal-overlay::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .modal-overlay::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
        }
        
        .modal-overlay::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.5);
        }
        
        .divider {
            height: 1px;
            background: linear-gradient(to right, transparent, #e5e5e5, transparent);
        }
        
        .hero-pattern {
            background-image: 
                linear-gradient(to right, #f0f0f0 1px, transparent 1px),
                linear-gradient(to bottom, #f0f0f0 1px, transparent 1px);
            background-size: 40px 40px;
        }
        
        .slider-card {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .line-clamp-2 {
            display: -webkit-box;
            /* -webkit-line-clamp: 2; */
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Animación suave para expansión de servicios */
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Efecto blur para privacidad */
        .blur-privacy {
            filter: blur(8px);
            user-select: none;
            pointer-events: none;
        }
        
        .privacy-overlay {
            position: relative;
        }
        
        .privacy-badge {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 11px;
            font-weight: 600;
            white-space: nowrap;
            z-index: 10;
            pointer-events: none;
        }
        
        .warning-banner {
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            border-left: 4px solid #dc2626;
            animation: slideDown 0.5s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Componente Slider de Técnicos (Manual)
        function TecnicosSlider({ tecnicos, onVerPerfil, renderEstrellas, usuarioLogueado }) {
            const [currentIndex, setCurrentIndex] = useState(0);
            const [expandedCards, setExpandedCards] = useState({});
            const [itemsPerPage, setItemsPerPage] = useState(3);

            // Detectar tamaño de pantalla para ajustar items por página
            useEffect(() => {
                const handleResize = () => {
                    if (window.innerWidth < 768) {
                        setItemsPerPage(1); // Móvil: 1 card
                    } else if (window.innerWidth < 1024) {
                        setItemsPerPage(2); // Tablet: 2 cards
                    } else {
                        setItemsPerPage(3); // Desktop: 3 cards
                    }
                };

                handleResize(); // Llamar al inicio
                window.addEventListener('resize', handleResize);
                return () => window.removeEventListener('resize', handleResize);
            }, []);

            const goToSlide = (index) => {
                setCurrentIndex(index);
            };

            const nextSlide = () => {
                const maxIndex = Math.max(0, tecnicos.length - itemsPerPage);
                setCurrentIndex((prevIndex) => 
                    prevIndex >= maxIndex ? 0 : Math.min(prevIndex + itemsPerPage, maxIndex)
                );
            };

            const prevSlide = () => {
                setCurrentIndex((prevIndex) => 
                    prevIndex === 0 ? Math.max(0, tecnicos.length - itemsPerPage) : Math.max(0, prevIndex - itemsPerPage)
                );
            };

            const toggleExpanded = (tecnicoId, e) => {
                e.stopPropagation(); // Evitar propagación
                setExpandedCards(prev => ({
                    ...prev,
                    [tecnicoId]: !prev[tecnicoId]
                }));
            };

            // Calcular técnicos visibles
            const visibleTecnicos = tecnicos.slice(currentIndex, currentIndex + itemsPerPage);

            // Calcular total de páginas correctamente
            const totalPages = Math.ceil(tecnicos.length / itemsPerPage);
            const currentPage = Math.floor(currentIndex / itemsPerPage) + 1;

            return (
                <div className="relative max-w-7xl mx-auto">
                    {/* Grid Container */}
                    <div className="relative px-4 md:px-12">
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start">
                            {visibleTecnicos.map((tecnico) => (
                                <div 
                                    key={tecnico.id}
                                    className="card-minimal rounded-xl overflow-hidden minimal-shadow-hover transition-all duration-300"
                                >
                                    <div className="p-6">
                                        <div className="flex items-start justify-between mb-4">
                                            <div className="flex items-center gap-3">
                                                <img
                                                    src={tecnico.foto}
                                                    alt={tecnico.nombre}
                                                    className={`w-16 h-16 rounded-full object-cover border border-gray-200 ${!usuarioLogueado ? 'blur-privacy' : ''}`}
                                                />
                                                <div>
                                                    
                                                    <h3 className={`font-bold text-lg ${!usuarioLogueado ? 'blur-privacy' : ''}`}>{tecnico.nombre}</h3>
                                                    <p className="text-xs text-gray-500">{tecnico.ubicacion}</p>
                                                </div>
                                            </div>
                                            {tecnico.verificado && (
                                                <div className="flex-shrink-0">
                                                    <i className="fas fa-check-circle text-black text-lg" title="Verificado"></i>
                                                </div>
                                            )}
                                        </div>

                                        <div className="flex items-center gap-2 mb-4">
                                            {renderEstrellas(tecnico.calificacion, 'text-sm')}
                                            <span className="text-sm font-bold">{tecnico.calificacion}</span>
                                            <span className="text-xs text-gray-500">({tecnico.totalTrabajos} trabajos)</span>
                                        </div>

                                        <p className="text-sm text-gray-700 mb-4 line-clamp-2">{tecnico.descripcion}</p>

                                        <div className="space-y-2 mb-4">
                                            {tecnico.servicios.slice(0, expandedCards[tecnico.id] ? tecnico.servicios.length : 2).map((servicio, idx) => (
                                                <div key={idx} className="bg-gray-50 rounded-lg p-3 animate-fadeIn">
                                                    <p className="font-bold text-sm mb-1">{servicio.categoria}</p>
                                                    <div className="flex flex-wrap gap-1 mb-2">
                                                        {servicio.subcategorias.slice(0, 2).map((sub, i) => (
                                                            <span key={i} className="text-xs bg-white border border-gray-200 px-2 py-1 rounded">
                                                                {sub}
                                                            </span>
                                                        ))}
                                                        {servicio.subcategorias.length > 2 && (
                                                            <span className="text-xs text-gray-500 px-2 py-1">
                                                                +{servicio.subcategorias.length - 2} más
                                                            </span>
                                                        )}
                                                    </div>
                                                    <p className="text-xs font-bold">
                                                        ${servicio.precioDesde} - ${servicio.precioHasta}
                                                    </p>
                                                </div>
                                            ))}
                                            
                                            {tecnico.servicios.length > 2 && (
                                                <button
                                                    onClick={(e) => toggleExpanded(tecnico.id, e)}
                                                    className="w-full text-sm font-medium text-gray-600 hover:text-black transition py-2"
                                                >
                                                    {expandedCards[tecnico.id] ? (
                                                        <>
                                                            <i className="fas fa-chevron-up mr-2"></i>
                                                            Ver menos
                                                        </>
                                                    ) : (
                                                        <>
                                                            <i className="fas fa-chevron-down mr-2"></i>
                                                            Ver {tecnico.servicios.length - 2} servicio{tecnico.servicios.length - 2 > 1 ? 's' : ''} más
                                                        </>
                                                    )}
                                                </button>
                                            )}
                                        </div>

                                        <button 
                                            onClick={() => onVerPerfil(tecnico)}
                                            className="w-full btn-primary py-2 rounded-lg text-sm font-medium"
                                        >
                                            Ver Perfil Completo
                                        </button>
                                    </div>
                                </div>
                            ))}
                        </div>

                        {/* Navigation Arrows */}
                        {tecnicos.length > itemsPerPage && (
                            <>
                                <button
                                    onClick={prevSlide}
                                    className="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-2 md:-translate-x-4 bg-white w-10 h-10 md:w-12 md:h-12 rounded-full minimal-shadow flex items-center justify-center hover:bg-gray-50 transition z-10"
                                >
                                    <i className="fas fa-chevron-left text-lg md:text-xl"></i>
                                </button>
                                <button
                                    onClick={nextSlide}
                                    className="absolute right-0 top-1/2 -translate-y-1/2 translate-x-2 md:translate-x-4 bg-white w-10 h-10 md:w-12 md:h-12 rounded-full minimal-shadow flex items-center justify-center hover:bg-gray-50 transition z-10"
                                >
                                    <i className="fas fa-chevron-right text-lg md:text-xl"></i>
                                </button>
                            </>
                        )}
                    </div>

                    {/* Dots Indicator */}
                    {totalPages > 1 && (
                        <div className="flex justify-center gap-2 mt-8">
                            {Array.from({ length: totalPages }).map((_, index) => (
                                <button
                                    key={index}
                                    onClick={() => goToSlide(index * itemsPerPage)}
                                    className={`transition-all duration-300 ${
                                        currentPage === index + 1
                                            ? 'bg-black w-8 h-2' 
                                            : 'bg-gray-300 hover:bg-gray-400 w-2 h-2'
                                    } rounded-full`}
                                />
                            ))}
                        </div>
                    )}

                    {/* Page Counter */}
                    {totalPages > 1 && (
                        <div className="text-center mt-4 text-sm text-gray-600">
                            Página {currentPage} de {totalPages}
                        </div>
                    )}
                </div>
            );
        }

        // Componente para Card de Técnico con Ver Más (para usar en búsqueda)
        function TecnicoCard({ tecnico, onVerPerfil, renderEstrellas, usuarioLogueado }) {
            const [expanded, setExpanded] = useState(false);

            const toggleExpanded = (e) => {
                e.stopPropagation(); // Evitar propagación
                setExpanded(!expanded);
            };

            return (
                <div className="card-minimal rounded-xl overflow-hidden minimal-shadow-hover">
                    <div className="p-6">
                        <div className="flex items-start justify-between mb-4">
                            <div className="flex items-center gap-3 flex-1">
                                <img
                                    src={tecnico.foto}
                                    alt={tecnico.nombre}
                                    className={`w-16 h-16 rounded-full object-cover border border-gray-200 ${!usuarioLogueado ? 'blur-privacy' : ''}`}
                                />
                                <div className="flex-1">
                                    <h3 className={`font-bold text-lg ${!usuarioLogueado ? 'blur-privacy' : ''}`}>
                                        {tecnico.nombre}
                                    </h3>
                                    <p className="text-xs text-gray-500">{tecnico.ubicacion}</p>
                                </div>
                            </div>
                            {tecnico.verificado && (
                                <div className="flex-shrink-0">
                                    <i className="fas fa-check-circle text-black text-lg" title="Verificado"></i>
                                </div>
                            )}
                        </div>

                        <div className="flex items-center gap-2 mb-4">
                            {renderEstrellas(tecnico.calificacion, 'text-sm')}
                            <span className="text-sm font-bold">{tecnico.calificacion}</span>
                            <span className="text-xs text-gray-500">({tecnico.totalTrabajos} trabajos)</span>
                        </div>

                        <p className="text-sm text-gray-700 mb-4 line-clamp-2">{tecnico.descripcion}</p>

                        <div className="space-y-3">
                            {tecnico.servicios.slice(0, expanded ? tecnico.servicios.length : 2).map((servicio, idx) => (
                                <div key={idx} className="bg-gray-50 rounded-lg p-3 animate-fadeIn">
                                    <p className="font-bold text-sm mb-1">{servicio.categoria}</p>
                                    <div className="flex flex-wrap gap-1 mb-2">
                                        {servicio.subcategorias.slice(0, 3).map((sub, i) => (
                                            <span key={i} className="text-xs bg-white border border-gray-200 px-2 py-1 rounded">
                                                {sub}
                                            </span>
                                        ))}
                                        {servicio.subcategorias.length > 3 && (
                                            <span className="text-xs text-gray-500 px-2 py-1">
                                                +{servicio.subcategorias.length - 3} más
                                            </span>
                                        )}
                                    </div>
                                    <p className="text-sm font-bold">
                                        ${servicio.precioDesde} - ${servicio.precioHasta}
                                    </p>
                                </div>
                            ))}

                            {tecnico.servicios.length > 2 && (
                                <button
                                    onClick={toggleExpanded}
                                    className="w-full text-sm font-medium text-gray-600 hover:text-black transition py-2"
                                >
                                    {expanded ? (
                                        <>
                                            <i className="fas fa-chevron-up mr-2"></i>
                                            Ver menos servicios
                                        </>
                                    ) : (
                                        <>
                                            <i className="fas fa-chevron-down mr-2"></i>
                                            Ver {tecnico.servicios.length - 2} servicio{tecnico.servicios.length - 2 > 1 ? 's' : ''} más
                                        </>
                                    )}
                                </button>
                            )}
                        </div>

                        <div className="mt-4">
                            <button 
                                onClick={() => onVerPerfil(tecnico)}
                                className="w-full btn-primary py-2 rounded-lg text-sm font-medium"
                            >
                                Ver Perfil Completo
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // Datos simulados en JSON
        const usuariosData = [
            {
                id: 1,
                nombre: "Carlos Mendoza",
                email: "carlos.mendoza@email.com",
                tipo: "tecnico",
                telefono: "+52 555 1234 567",
                ubicacion: "Ciudad de México, Centro",
                calificacion: 4.8,
                totalTrabajos: 127,
                foto: "https://i.pravatar.cc/150?img=12",
                verificado: true,
                miembroDesde: "2023-01",
                servicios: [
                    {
                        categoria: "Plomería",
                        subcategorias: ["Fugas de agua", "Instalación de tubería", "Destapado de drenaje"],
                        precioDesde: 300,
                        precioHasta: 1500
                    },
                    {
                        categoria: "Electricidad",
                        subcategorias: ["Instalación de lámparas", "Reparación de contactos"],
                        precioDesde: 250,
                        precioHasta: 1200
                    }
                ],
                portafolio: [
                    "https://images.unsplash.com/photo-1581244277943-fe4a9c777189?w=400",
                    "https://images.unsplash.com/photo-1621905251189-08b45d6a269e?w=400",
                    "https://images.unsplash.com/photo-1504917595217-d4dc5ebe6122?w=400"
                ],
                descripcion: "Técnico certificado con más de 10 años de experiencia en plomería y electricidad residencial.",
                comision: 10
            },
            {
                id: 2,
                nombre: "Ana Rodríguez",
                email: "ana.rodriguez@email.com",
                tipo: "tecnico",
                telefono: "+52 555 9876 543",
                ubicacion: "Ciudad de México, Polanco",
                calificacion: 4.9,
                totalTrabajos: 89,
                foto: "https://i.pravatar.cc/150?img=5",
                verificado: true,
                miembroDesde: "2023-06",
                servicios: [
                    {
                        categoria: "Electrodomésticos",
                        subcategorias: ["Reparación de refrigeradores", "Reparación de lavadoras", "Reparación de hornos"],
                        precioDesde: 400,
                        precioHasta: 2000
                    }
                ],
                portafolio: [
                    "https://images.unsplash.com/photo-1556911220-bff31c812dba?w=400",
                    "https://images.unsplash.com/photo-1565891741441-64926e441838?w=400"
                ],
                descripcion: "Especialista en reparación de electrodomésticos de línea blanca. Servicio rápido y garantizado.",
                comision: 12
            },
            {
                id: 3,
                nombre: "Miguel Torres",
                email: "miguel.torres@email.com",
                tipo: "tecnico",
                telefono: "+52 555 4567 890",
                ubicacion: "Ciudad de México, Roma Norte",
                calificacion: 4.7,
                totalTrabajos: 156,
                foto: "https://i.pravatar.cc/150?img=8",
                verificado: true,
                miembroDesde: "2022-11",
                servicios: [
                    {
                        categoria: "Carpintería",
                        subcategorias: ["Muebles a medida", "Reparación de puertas", "Instalación de closets"],
                        precioDesde: 500,
                        precioHasta: 5000
                    },
                    {
                        categoria: "Pintura",
                        subcategorias: ["Pintura interior", "Pintura exterior"],
                        precioDesde: 800,
                        precioHasta: 3000
                    }
                ],
                portafolio: [
                    "https://images.unsplash.com/photo-1513828583688-c52646db42da?w=400",
                    "https://images.unsplash.com/photo-1503387762-592deb58ef4e?w=400",
                    "https://images.unsplash.com/photo-1598928506311-c55ded91a20c?w=400",
                    "https://images.unsplash.com/photo-1523413651479-597eb2da0ad6?w=400"
                ],
                descripcion: "Carpintero y pintor con experiencia en proyectos residenciales y comerciales.",
                comision: 8
            },
            {
                id: 4,
                nombre: "Laura Jiménez",
                email: "laura.jimenez@email.com",
                tipo: "tecnico",
                telefono: "+52 555 3456 789",
                ubicacion: "Ciudad de México, Condesa",
                calificacion: 5.0,
                totalTrabajos: 45,
                foto: "https://i.pravatar.cc/150?img=9",
                verificado: true,
                miembroDesde: "2024-03",
                servicios: [
                    {
                        categoria: "Jardinería",
                        subcategorias: ["Mantenimiento de jardín", "Diseño de paisajismo", "Poda de árboles"],
                        precioDesde: 350,
                        precioHasta: 2500
                    }
                ],
                portafolio: [
                    "https://images.unsplash.com/photo-1558904541-efa843a96f01?w=400",
                    "https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400"
                ],
                descripcion: "Especialista en jardinería y paisajismo urbano. Transformo espacios verdes.",
                comision: 10
            },
            {
                id: 5,
                nombre: "Roberto Sánchez",
                email: "roberto.sanchez@email.com",
                tipo: "tecnico",
                telefono: "+52 555 6789 012",
                ubicacion: "Ciudad de México, Coyoacán",
                calificacion: 4.6,
                totalTrabajos: 203,
                foto: "https://i.pravatar.cc/150?img=15",
                verificado: true,
                miembroDesde: "2022-05",
                servicios: [
                    {
                        categoria: "Aire Acondicionado",
                        subcategorias: ["Instalación de minisplit", "Mantenimiento de A/C", "Recarga de gas"],
                        precioDesde: 600,
                        precioHasta: 4000
                    },
                    {
                        categoria: "Refrigeración",
                        subcategorias: ["Reparación de refrigeradores comerciales"],
                        precioDesde: 800,
                        precioHasta: 3500
                    }
                ],
                portafolio: [
                    "https://images.unsplash.com/photo-1631545806609-47c7c0061bc2?w=400",
                    "https://images.unsplash.com/photo-1635805737707-575885ab0820?w=400",
                    "https://images.unsplash.com/photo-1614730321146-b6fa6a46bcb4?w=400"
                ],
                descripcion: "Técnico certificado en refrigeración y aire acondicionado. Servicio urgente disponible.",
                comision: 15
            }
        ];

        const categoriasServiciosData = [
            {
                id: 1,
                nombre: "Plomería",
                icon: "fa-wrench",
                subcategorias: ["Fugas de agua", "Instalación de tubería", "Destapado de drenaje", "Instalación de lavabos", "Reparación de llaves"]
            },
            {
                id: 2,
                nombre: "Electricidad",
                icon: "fa-bolt",
                subcategorias: ["Instalación de lámparas", "Reparación de contactos", "Instalación de ventiladores", "Reparación de cortos", "Cableado"]
            },
            {
                id: 3,
                nombre: "Electrodomésticos",
                icon: "fa-blender",
                subcategorias: ["Reparación de refrigeradores", "Reparación de lavadoras", "Reparación de hornos", "Reparación de TV", "Reparación de microondas"]
            },
            {
                id: 4,
                nombre: "Carpintería",
                icon: "fa-hammer",
                subcategorias: ["Muebles a medida", "Reparación de puertas", "Instalación de closets", "Reparación de ventanas", "Pisos de madera"]
            },
            {
                id: 5,
                nombre: "Pintura",
                icon: "fa-paint-roller",
                subcategorias: ["Pintura interior", "Pintura exterior", "Texturizado", "Impermeabilización"]
            },
            {
                id: 6,
                nombre: "Aire Acondicionado",
                icon: "fa-fan",
                subcategorias: ["Instalación de minisplit", "Mantenimiento de A/C", "Recarga de gas", "Reparación de A/C"]
            },
            {
                id: 7,
                nombre: "Jardinería",
                icon: "fa-leaf",
                subcategorias: ["Mantenimiento de jardín", "Diseño de paisajismo", "Poda de árboles", "Instalación de riego"]
            },
            {
                id: 8,
                nombre: "Refrigeración",
                icon: "fa-snowflake",
                subcategorias: ["Reparación de refrigeradores comerciales", "Instalación de cuartos fríos"]
            }
        ];

        const reseniasData = [
            { id: 1, tecnicoId: 1, usuario: "María González", calificacion: 5, comentario: "Excelente servicio, muy profesional y puntual. Resolvió mi problema de plomería rápidamente.", fecha: "2025-10-15" },
            { id: 2, tecnicoId: 1, usuario: "Pedro Ramírez", calificacion: 5, comentario: "Trabajo impecable. Lo recomiendo ampliamente.", fecha: "2025-10-10" },
            { id: 3, tecnicoId: 1, usuario: "Sofia López", calificacion: 4, comentario: "Buen trabajo, aunque tardó un poco más de lo esperado.", fecha: "2025-09-28" },
            { id: 4, tecnicoId: 2, usuario: "Juan Hernández", calificacion: 5, comentario: "Reparó mi refrigerador en menos de una hora. Muy eficiente.", fecha: "2025-11-01" },
            { id: 5, tecnicoId: 2, usuario: "Carmen Ortiz", calificacion: 5, comentario: "Excelente atención y conocimiento técnico.", fecha: "2025-10-20" },
            { id: 6, tecnicoId: 3, usuario: "Luis Morales", calificacion: 5, comentario: "Los muebles quedaron perfectos. Muy detallista.", fecha: "2025-10-25" },
            { id: 7, tecnicoId: 3, usuario: "Isabel Castro", calificacion: 4, comentario: "Buen trabajo de pintura, precios justos.", fecha: "2025-10-05" },
            { id: 8, tecnicoId: 4, usuario: "Fernando Silva", calificacion: 5, comentario: "Mi jardín se ve increíble. Laura es muy profesional.", fecha: "2025-10-30" },
            { id: 9, tecnicoId: 5, usuario: "Andrea Flores", calificacion: 5, comentario: "Instaló mi minisplit perfecto. Servicio rápido.", fecha: "2025-11-03" },
            { id: 10, tecnicoId: 5, usuario: "Ricardo Vargas", calificacion: 4, comentario: "Buen servicio de mantenimiento.", fecha: "2025-10-18" }
        ];

        function TechConnectApp() {
            const [vistaActual, setVistaActual] = useState('inicio');
            const [usuarioActivo, setUsuarioActivo] = useState(null);
            const [tecnicos, setTecnicos] = useState(usuariosData);
            const [categorias, setCategorias] = useState(categoriasServiciosData);
            const [resenias, setResenias] = useState(reseniasData);
            const [busqueda, setBusqueda] = useState('');
            const [categoriaSeleccionada, setCategoriaSeleccionada] = useState(null);
            const [ubicacionFiltro, setUbicacionFiltro] = useState('');
            const [tecnicoSeleccionado, setTecnicoSeleccionado] = useState(null);
            const [mostrarModal, setMostrarModal] = useState(false);
            const [tipoModal, setTipoModal] = useState('');
            
            // Formularios
            const [formLogin, setFormLogin] = useState({ email: '', password: '' });
            const [formRegistro, setFormRegistro] = useState({ 
                nombre: '', 
                email: '', 
                password: '', 
                telefono: '', 
                ubicacion: '', 
                tipo: 'cliente' 
            });
            const [formResenia, setFormResenia] = useState({ calificacion: 5, comentario: '' });
            const [modoEdicion, setModoEdicion] = useState(false);
            const [formEditarPerfil, setFormEditarPerfil] = useState({});
            const [formServicio, setFormServicio] = useState({
                categoria: '',
                subcategorias: '',
                precioDesde: '',
                precioHasta: ''
            });

            // Limpiar overflow al desmontar componente
            useEffect(() => {
                return () => {
                    document.body.style.overflow = 'auto';
                };
            }, []);

            const tecnicosFiltrados = tecnicos.filter(tecnico => {
                const matchBusqueda = busqueda === '' || 
                    tecnico.nombre.toLowerCase().includes(busqueda.toLowerCase()) ||
                    tecnico.servicios.some(s => 
                        s.categoria.toLowerCase().includes(busqueda.toLowerCase()) ||
                        s.subcategorias.some(sub => sub.toLowerCase().includes(busqueda.toLowerCase()))
                    );
                
                const matchCategoria = !categoriaSeleccionada || 
                    tecnico.servicios.some(s => s.categoria === categoriaSeleccionada);
                
                const matchUbicacion = ubicacionFiltro === '' || 
                    tecnico.ubicacion.toLowerCase().includes(ubicacionFiltro.toLowerCase());

                return matchBusqueda && matchCategoria && matchUbicacion;
            });

            const handleLogin = (e) => {
                e.preventDefault();
                // Simulación de login
                const usuario = tecnicos.find(t => t.email === formLogin.email);
                if (usuario) {
                    setUsuarioActivo(usuario);
                    cerrarModal();
                    setVistaActual('busqueda');
                    alert(`¡Bienvenido ${usuario.nombre}!`);
                } else {
                    // Login genérico para clientes
                    setUsuarioActivo({
                        id: 999,
                        nombre: "Usuario Cliente",
                        email: formLogin.email,
                        tipo: "cliente"
                    });
                    cerrarModal();
                    setVistaActual('busqueda');
                }
            };

            const handleRegistro = (e) => {
                e.preventDefault();
                const nuevoUsuario = {
                    id: tecnicos.length + 1,
                    ...formRegistro,
                    calificacion: 0,
                    totalTrabajos: 0,
                    foto: `https://i.pravatar.cc/150?img=${tecnicos.length + 1}`,
                    verificado: false,
                    miembroDesde: new Date().toISOString().slice(0, 7),
                    servicios: [],
                    portafolio: [],
                    comision: 10
                };
                
                if (formRegistro.tipo === 'tecnico') {
                    setTecnicos([...tecnicos, nuevoUsuario]);
                }
                
                setUsuarioActivo(nuevoUsuario);
                cerrarModal();
                setVistaActual('busqueda');
                alert(`¡Registro exitoso! Bienvenido ${nuevoUsuario.nombre}`);
            };

            const handleEnviarResenia = () => {
                if (formResenia.comentario.trim() && tecnicoSeleccionado) {
                    const nuevaResenia = {
                        id: resenias.length + 1,
                        tecnicoId: tecnicoSeleccionado.id,
                        usuario: usuarioActivo?.nombre || "Usuario Anónimo",
                        calificacion: formResenia.calificacion,
                        comentario: formResenia.comentario,
                        fecha: new Date().toISOString().split('T')[0]
                    };
                    setResenias([nuevaResenia, ...resenias]);
                    setFormResenia({ calificacion: 5, comentario: '' });
                    setTipoModal('');
                    alert('¡Gracias por tu reseña!');
                }
            };

            const iniciarEdicion = () => {
                setFormEditarPerfil({
                    nombre: usuarioActivo.nombre,
                    telefono: usuarioActivo.telefono || '',
                    ubicacion: usuarioActivo.ubicacion || '',
                    descripcion: usuarioActivo.descripcion || ''
                });
                setModoEdicion(true);
            };

            const cancelarEdicion = () => {
                setModoEdicion(false);
                setFormEditarPerfil({});
            };

            const guardarPerfil = () => {
                const perfilActualizado = {
                    ...usuarioActivo,
                    ...formEditarPerfil
                };
                
                // Actualizar en la lista de técnicos si es técnico
                if (usuarioActivo.tipo === 'tecnico') {
                    setTecnicos(tecnicos.map(t => 
                        t.id === usuarioActivo.id ? perfilActualizado : t
                    ));
                }
                
                setUsuarioActivo(perfilActualizado);
                setModoEdicion(false);
                alert('¡Perfil actualizado correctamente!');
            };

            const agregarServicio = () => {
                abrirModal('agregarServicio');
            };

            const eliminarServicio = (index) => {
                if (confirm('¿Estás seguro de eliminar este servicio?')) {
                    const serviciosActualizados = [...usuarioActivo.servicios];
                    serviciosActualizados.splice(index, 1);
                    
                    const perfilActualizado = {
                        ...usuarioActivo,
                        servicios: serviciosActualizados
                    };
                    
                    setTecnicos(tecnicos.map(t => 
                        t.id === usuarioActivo.id ? perfilActualizado : t
                    ));
                    setUsuarioActivo(perfilActualizado);
                }
            };

            const guardarServicio = () => {
                if (!formServicio.categoria || !formServicio.subcategorias || !formServicio.precioDesde || !formServicio.precioHasta) {
                    alert('Por favor completa todos los campos');
                    return;
                }

                const nuevoServicio = {
                    categoria: formServicio.categoria,
                    subcategorias: formServicio.subcategorias.split(',').map(s => s.trim()),
                    precioDesde: parseInt(formServicio.precioDesde),
                    precioHasta: parseInt(formServicio.precioHasta)
                };

                const serviciosActualizados = [...(usuarioActivo.servicios || []), nuevoServicio];
                const perfilActualizado = {
                    ...usuarioActivo,
                    servicios: serviciosActualizados
                };

                setTecnicos(tecnicos.map(t => 
                    t.id === usuarioActivo.id ? perfilActualizado : t
                ));
                setUsuarioActivo(perfilActualizado);
                setFormServicio({ categoria: '', subcategorias: '', precioDesde: '', precioHasta: '' });
                cerrarModal();
                alert('¡Servicio agregado correctamente!');
            };

            const abrirModal = (tipo, tecnico = null) => {
                setTipoModal(tipo);
                setTecnicoSeleccionado(tecnico);
                setMostrarModal(true);
                // Bloquear scroll del body
                document.body.style.overflow = 'hidden';
            };

            const cerrarModal = () => {
                setMostrarModal(false);
                setTipoModal('');
                setTecnicoSeleccionado(null);
                // Restaurar scroll del body
                document.body.style.overflow = 'auto';
            };

            const calcularComision = (precio, porcentaje) => {
                return (precio * porcentaje / 100).toFixed(2);
            };

            const renderEstrellas = (calificacion, size = 'text-base') => {
                return (
                    <div className="flex items-center gap-0.5">
                        {[1, 2, 3, 4, 5].map(star => (
                            <i 
                                key={star}
                                className={`fas fa-star rating-star ${star <= calificacion ? 'filled' : ''} ${size}`}
                            ></i>
                        ))}
                    </div>
                );
            };

            return (
                <div className="min-h-screen bg-white">
                    {/* Header */}
                    <header className="bg-white border-b border-gray-200 sticky top-0 z-40 minimal-shadow">
                        <div className="container mx-auto px-4 py-4">
                            <div className="flex items-center justify-between">
                                <div 
                                    className="flex items-center gap-2 md:gap-3 cursor-pointer"
                                    onClick={() => setVistaActual('inicio')}
                                >
                                    <i className="fas fa-tools text-xl md:text-2xl"></i>
                                    <h1 className="text-lg md:text-2xl font-bold tracking-tight">TechConnect</h1>
                                </div>
                                
                                {/* Desktop Navigation */}
                                <nav className="hidden md:flex items-center gap-6">
                                    <button 
                                        onClick={() => setVistaActual('busqueda')}
                                        className="text-sm font-medium hover:text-gray-600 transition"
                                    >
                                        Buscar Servicios
                                    </button>
                                    <button 
                                        onClick={() => setVistaActual('comoFunciona')}
                                        className="text-sm font-medium hover:text-gray-600 transition"
                                    >
                                        Cómo Funciona
                                    </button>
                                </nav>

                                {/* Desktop User Actions */}
                                <div className="hidden md:flex items-center gap-3">
                                    {usuarioActivo ? (
                                        <>
                                            <button 
                                                onClick={() => setVistaActual('perfil')}
                                                className="flex items-center gap-2 hover:opacity-70 transition"
                                            >
                                                <img 
                                                    src={usuarioActivo.foto || 'https://i.pravatar.cc/150?img=1'} 
                                                    alt={usuarioActivo.nombre}
                                                    className="w-8 h-8 rounded-full object-cover border border-gray-200"
                                                />
                                                <span className="text-sm font-medium">{usuarioActivo.nombre}</span>
                                            </button>
                                            <button
                                                onClick={() => setUsuarioActivo(null)}
                                                className="text-sm font-medium hover:text-gray-600 transition"
                                            >
                                                Salir
                                            </button>
                                        </>
                                    ) : (
                                        <>
                                            <button
                                                onClick={() => abrirModal('login')}
                                                className="btn-secondary px-4 py-2 rounded-lg text-sm font-medium"
                                            >
                                                Iniciar Sesión
                                            </button>
                                            <button
                                                onClick={() => abrirModal('registro')}
                                                className="btn-primary px-4 py-2 rounded-lg text-sm font-medium"
                                            >
                                                Registrarse
                                            </button>
                                        </>
                                    )}
                                </div>

                                {/* Mobile Menu Button */}
                                <button
                                    onClick={() => abrirModal('menu')}
                                    className="md:hidden text-2xl hover:text-gray-600 transition"
                                >
                                    <i className="fas fa-bars"></i>
                                </button>
                            </div>
                        </div>
                    </header>

                    {/* Banner de Advertencia para Usuarios Logueados */}
                    {usuarioActivo && (
                        <div className="warning-banner text-white py-4">
                            <div className="container mx-auto px-4">
                                <div className="flex items-start gap-4">
                                    <div className="flex-shrink-0 mt-1">
                                        <i className="fas fa-shield-alt text-2xl text-red-500"></i>
                                    </div>
                                    <div className="flex-1">
                                        <h3 className="font-bold text-lg mb-2">⚠️ Aviso Importante de Seguridad</h3>
                                        <p className="text-sm leading-relaxed mb-2">
                                            <strong>Bienvenido a TechConnect.</strong> Esta plataforma protege la identidad de todos nuestros técnicos verificados. 
                                            El hostigamiento, extorsión, amenazas o cualquier tipo de conducta inapropiada hacia los prestadores de servicios está 
                                            <strong className="text-red-400"> estrictamente prohibido</strong> y será sancionado.
                                        </p>
                                        <p className="text-xs text-gray-300">
                                            <i className="fas fa-exclamation-triangle mr-2"></i>
                                            Las violaciones a estas normas resultarán en la suspensión permanente de tu cuenta y, en casos graves, 
                                            procederemos con las <strong>denuncias legales correspondientes</strong> ante las autoridades competentes. 
                                            Todos los contactos e interacciones están registrados para tu seguridad y la de nuestra comunidad.
                                        </p>
                                    </div>
                                    <button 
                                        onClick={() => document.querySelector('.warning-banner').style.display = 'none'}
                                        className="flex-shrink-0 text-white hover:text-gray-300 transition"
                                    >
                                        <i className="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    )}

                    {/* Main Content */}
                    <main>
                        {/* Vista de Inicio */}
                        {vistaActual === 'inicio' && (
                            <div>
                                {/* Hero Section */}
                                <section className="hero-pattern py-20 md:py-32">
                                    <div className="container mx-auto px-4">
                                        <div className="max-w-3xl mx-auto text-center">
                                            <h2 className="text-4xl md:text-6xl font-bold mb-6 tracking-tight">
                                                Conectamos problemas con soluciones
                                            </h2>
                                            <p className="text-lg md:text-xl text-gray-600 mb-8">
                                                Encuentra técnicos verificados cerca de ti. Rápido, confiable y transparente.
                                            </p>
                                            <div className="flex flex-col sm:flex-row gap-4 justify-center">
                                                <button
                                                    onClick={() => setVistaActual('busqueda')}
                                                    className="btn-primary px-8 py-4 rounded-lg text-base font-medium"
                                                >
                                                    Buscar Técnico
                                                </button>
                                                <button
                                                    onClick={() => abrirModal('registro')}
                                                    className="btn-secondary px-8 py-4 rounded-lg text-base font-medium"
                                                >
                                                    Registrarme como Técnico
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                {/* Features */}
                                <section className="py-20 bg-gray-50">
                                    <div className="container mx-auto px-4">
                                        <h3 className="text-3xl font-bold text-center mb-12">¿Por qué TechConnect?</h3>
                                        <div className="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto">
                                            <div className="text-center">
                                                <div className="w-16 h-16 bg-black rounded-full flex items-center justify-center mx-auto mb-4">
                                                    <i className="fas fa-shield-alt text-white text-2xl"></i>
                                                </div>
                                                <h4 className="text-xl font-bold mb-2">Técnicos Verificados</h4>
                                                <p className="text-gray-600">Todos nuestros profesionales pasan por un proceso de verificación riguroso</p>
                                            </div>
                                            <div className="text-center">
                                                <div className="w-16 h-16 bg-black rounded-full flex items-center justify-center mx-auto mb-4">
                                                    <i className="fas fa-dollar-sign text-white text-2xl"></i>
                                                </div>
                                                <h4 className="text-xl font-bold mb-2">Precios Transparentes</h4>
                                                <p className="text-gray-600">Conoce rangos de precios antes de contratar cualquier servicio</p>
                                            </div>
                                            <div className="text-center">
                                                <div className="w-16 h-16 bg-black rounded-full flex items-center justify-center mx-auto mb-4">
                                                    <i className="fas fa-star text-white text-2xl"></i>
                                                </div>
                                                <h4 className="text-xl font-bold mb-2">Reseñas Reales</h4>
                                                <p className="text-gray-600">Lee opiniones de clientes reales antes de tomar tu decisión</p>
                                            </div>
                                        </div>
                                    </div>
                                </section>

                                {/* Categories Preview */}
                                <section className="py-20">
                                    <div className="container mx-auto px-4">
                                        <h3 className="text-3xl font-bold text-center mb-12">Servicios Disponibles</h3>
                                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto">
                                            {categorias.slice(0, 8).map(categoria => (
                                                <button
                                                    key={categoria.id}
                                                    onClick={() => {
                                                        setCategoriaSeleccionada(categoria.nombre);
                                                        setVistaActual('busqueda');
                                                    }}
                                                    className="card-minimal p-6 rounded-lg text-center"
                                                >
                                                    <i className={`fas ${categoria.icon} text-3xl mb-3`}></i>
                                                    <p className="font-medium text-sm">{categoria.nombre}</p>
                                                </button>
                                            ))}
                                        </div>
                                    </div>
                                </section>

                                {/* Técnicos Destacados Slider */}
                                <section className="py-20 bg-gray-50">
                                    <div className="container mx-auto px-4">
                                        <h3 className="text-3xl font-bold text-center mb-12">Técnicos Destacados</h3>
                                        <TecnicosSlider 
                                            tecnicos={tecnicos}
                                            onVerPerfil={(tecnico) => abrirModal('perfil', tecnico)}
                                            renderEstrellas={renderEstrellas}
                                            usuarioLogueado={usuarioActivo}
                                        />
                                    </div>
                                </section>
                            </div>
                        )}

                        {/* Vista de Cómo Funciona */}
                        {vistaActual === 'comoFunciona' && (
                            <div className="py-20">
                                <div className="container mx-auto px-4 max-w-4xl">
                                    <h2 className="text-4xl font-bold mb-12 text-center">Cómo Funciona TechConnect</h2>
                                    
                                    <div className="space-y-12">
                                        <div className="flex gap-6">
                                            <div className="flex-shrink-0 w-12 h-12 bg-black text-white rounded-full flex items-center justify-center font-bold">1</div>
                                            <div>
                                                <h3 className="text-2xl font-bold mb-2">Describe tu problema</h3>
                                                <p className="text-gray-600">Ingresa qué necesitas reparar o instalar. Nuestro sistema te mostrará los técnicos especializados disponibles en tu zona.</p>
                                            </div>
                                        </div>

                                        <div className="divider"></div>

                                        <div className="flex gap-6">
                                            <div className="flex-shrink-0 w-12 h-12 bg-black text-white rounded-full flex items-center justify-center font-bold">2</div>
                                            <div>
                                                <h3 className="text-2xl font-bold mb-2">Compara técnicos</h3>
                                                <p className="text-gray-600">Revisa perfiles, calificaciones, reseñas y rangos de precios. Cada técnico muestra su portafolio de trabajos anteriores.</p>
                                            </div>
                                        </div>

                                        <div className="divider"></div>

                                        <div className="flex gap-6">
                                            <div className="flex-shrink-0 w-12 h-12 bg-black text-white rounded-full flex items-center justify-center font-bold">3</div>
                                            <div>
                                                <h3 className="text-2xl font-bold mb-2">Contrata y paga seguro</h3>
                                                <p className="text-gray-600">Contacta al técnico y agenda el servicio. Realizas el pago a través de nuestra plataforma segura. Cobramos una comisión del 8-15% por trabajo completado.</p>
                                            </div>
                                        </div>

                                        <div className="divider"></div>

                                        <div className="flex gap-6">
                                            <div className="flex-shrink-0 w-12 h-12 bg-black text-white rounded-full flex items-center justify-center font-bold">4</div>
                                            <div>
                                                <h3 className="text-2xl font-bold mb-2">Califica el servicio</h3>
                                                <p className="text-gray-600">Una vez completado el trabajo, deja tu reseña. Tu opinión ayuda a otros usuarios y mantiene la calidad de nuestros técnicos.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="mt-16 bg-gray-50 rounded-2xl p-8">
                                        <h3 className="text-2xl font-bold mb-4">Modelo de Comisión</h3>
                                        <div className="space-y-3 text-gray-700">
                                            <p><strong>Servicio Básico:</strong> 8% de comisión</p>
                                            <p><strong>Servicio Premium:</strong> 12% de comisión (incluye garantía extendida)</p>
                                            <p><strong>Servicio Urgente:</strong> 15% de comisión (respuesta en menos de 2 horas)</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Vista de Búsqueda */}
                        {vistaActual === 'busqueda' && (
                            <div className="py-8">
                                <div className="container mx-auto px-4">
                                    {/* Buscador */}
                                    <div className="max-w-4xl mx-auto mb-8">
                                        <div className="card-minimal p-6 rounded-xl">
                                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                                <div className="md:col-span-2">
                                                    <input
                                                        type="text"
                                                        placeholder="¿Qué necesitas reparar o instalar?"
                                                        value={busqueda}
                                                        onChange={(e) => setBusqueda(e.target.value)}
                                                        className="w-full px-4 py-3 rounded-lg input-minimal"
                                                    />
                                                </div>
                                                <div>
                                                    <input
                                                        type="text"
                                                        placeholder="Ubicación"
                                                        value={ubicacionFiltro}
                                                        onChange={(e) => setUbicacionFiltro(e.target.value)}
                                                        className="w-full px-4 py-3 rounded-lg input-minimal"
                                                    />
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Filtros de Categoría */}
                                    <div className="mb-8 overflow-x-auto">
                                        <div className="flex gap-3 pb-2">
                                            <button
                                                onClick={() => setCategoriaSeleccionada(null)}
                                                className={`tag-minimal px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap ${!categoriaSeleccionada ? 'bg-black text-white' : ''}`}
                                            >
                                                Todos
                                            </button>
                                            {categorias.map(categoria => (
                                                <button
                                                    key={categoria.id}
                                                    onClick={() => setCategoriaSeleccionada(categoria.nombre)}
                                                    className={`tag-minimal px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap ${categoriaSeleccionada === categoria.nombre ? 'bg-black text-white' : ''}`}
                                                >
                                                    <i className={`fas ${categoria.icon} mr-2`}></i>
                                                    {categoria.nombre}
                                                </button>
                                            ))}
                                        </div>
                                    </div>

                                    {/* Resultados */}
                                    <div>
                                        <p className="text-sm text-gray-600 mb-4">
                                            {tecnicosFiltrados.length} técnicos encontrados
                                        </p>
                                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 items-start">
                                            {tecnicosFiltrados.map(tecnico => (
                                                <TecnicoCard
                                                    key={tecnico.id}
                                                    tecnico={tecnico}
                                                    onVerPerfil={(tec) => abrirModal('perfil', tec)}
                                                    renderEstrellas={renderEstrellas}
                                                    usuarioLogueado={usuarioActivo}
                                                />
                                            ))}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Vista de Perfil de Usuario */}
                        {vistaActual === 'perfil' && usuarioActivo && (
                            <div className="py-8">
                                <div className="container mx-auto px-4 max-w-4xl">
                                    <div className="card-minimal rounded-xl p-8">
                                        <div className="flex items-center justify-between mb-8">
                                            <div className="flex items-center gap-6">
                                                <img
                                                    src={usuarioActivo.foto || 'https://i.pravatar.cc/150?img=1'}
                                                    alt={usuarioActivo.nombre}
                                                    className="w-24 h-24 rounded-full object-cover border-2 border-gray-200"
                                                />
                                                <div>
                                                    <h2 className="text-3xl font-bold mb-1">{usuarioActivo.nombre}</h2>
                                                    <p className="text-gray-600">{usuarioActivo.email}</p>
                                                    {usuarioActivo.tipo === 'tecnico' && (
                                                        <div className="flex items-center gap-2 mt-2">
                                                            {renderEstrellas(usuarioActivo.calificacion)}
                                                            <span className="text-sm font-bold">{usuarioActivo.calificacion}</span>
                                                            <span className="text-xs text-gray-500">({usuarioActivo.totalTrabajos} trabajos)</span>
                                                        </div>
                                                    )}
                                                </div>
                                            </div>
                                            {!modoEdicion ? (
                                                <button
                                                    onClick={iniciarEdicion}
                                                    className="btn-secondary px-6 py-2 rounded-lg text-sm font-medium"
                                                >
                                                    <i className="fas fa-edit mr-2"></i>
                                                    Editar Perfil
                                                </button>
                                            ) : (
                                                <div className="flex gap-2">
                                                    <button
                                                        onClick={guardarPerfil}
                                                        className="btn-primary px-6 py-2 rounded-lg text-sm font-medium"
                                                    >
                                                        <i className="fas fa-save mr-2"></i>
                                                        Guardar
                                                    </button>
                                                    <button
                                                        onClick={cancelarEdicion}
                                                        className="btn-secondary px-6 py-2 rounded-lg text-sm font-medium"
                                                    >
                                                        Cancelar
                                                    </button>
                                                </div>
                                            )}
                                        </div>

                                        {!modoEdicion ? (
                                            <>
                                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                                                    <div>
                                                        <p className="text-sm text-gray-600 mb-1">Teléfono</p>
                                                        <p className="font-medium">{usuarioActivo.telefono || 'No especificado'}</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-600 mb-1">Ubicación</p>
                                                        <p className="font-medium">{usuarioActivo.ubicacion || 'No especificada'}</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-600 mb-1">Tipo de cuenta</p>
                                                        <p className="font-medium capitalize">{usuarioActivo.tipo}</p>
                                                    </div>
                                                    <div>
                                                        <p className="text-sm text-gray-600 mb-1">Miembro desde</p>
                                                        <p className="font-medium">{usuarioActivo.miembroDesde || 'Recientemente'}</p>
                                                    </div>
                                                </div>

                                                {usuarioActivo.descripcion && (
                                                    <div className="mb-8">
                                                        <p className="text-sm text-gray-600 mb-2">Descripción</p>
                                                        <p className="text-gray-700">{usuarioActivo.descripcion}</p>
                                                    </div>
                                                )}
                                            </>
                                        ) : (
                                            <div className="space-y-4 mb-8">
                                                <div>
                                                    <label className="block text-sm font-medium mb-2">Nombre completo</label>
                                                    <input
                                                        type="text"
                                                        value={formEditarPerfil.nombre}
                                                        onChange={(e) => setFormEditarPerfil({...formEditarPerfil, nombre: e.target.value})}
                                                        className="w-full px-4 py-3 rounded-lg input-minimal"
                                                    />
                                                </div>
                                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                    <div>
                                                        <label className="block text-sm font-medium mb-2">Teléfono</label>
                                                        <input
                                                            type="tel"
                                                            value={formEditarPerfil.telefono}
                                                            onChange={(e) => setFormEditarPerfil({...formEditarPerfil, telefono: e.target.value})}
                                                            className="w-full px-4 py-3 rounded-lg input-minimal"
                                                            placeholder="+52 555 1234 567"
                                                        />
                                                    </div>
                                                    <div>
                                                        <label className="block text-sm font-medium mb-2">Ubicación</label>
                                                        <input
                                                            type="text"
                                                            value={formEditarPerfil.ubicacion}
                                                            onChange={(e) => setFormEditarPerfil({...formEditarPerfil, ubicacion: e.target.value})}
                                                            className="w-full px-4 py-3 rounded-lg input-minimal"
                                                            placeholder="Ciudad, Colonia"
                                                        />
                                                    </div>
                                                </div>
                                                {usuarioActivo.tipo === 'tecnico' && (
                                                    <div>
                                                        <label className="block text-sm font-medium mb-2">Descripción profesional</label>
                                                        <textarea
                                                            value={formEditarPerfil.descripcion}
                                                            onChange={(e) => setFormEditarPerfil({...formEditarPerfil, descripcion: e.target.value})}
                                                            className="w-full px-4 py-3 rounded-lg input-minimal h-24 resize-none"
                                                            placeholder="Describe tu experiencia y especialidades..."
                                                        />
                                                    </div>
                                                )}
                                            </div>
                                        )}

                                        {usuarioActivo.tipo === 'tecnico' && (
                                            <>
                                                <div className="divider my-8"></div>
                                                
                                                <div className="flex justify-between items-center mb-4">
                                                    <h3 className="text-xl font-bold">Servicios Ofrecidos</h3>
                                                    {!modoEdicion && (
                                                        <button
                                                            onClick={agregarServicio}
                                                            className="btn-primary px-4 py-2 rounded-lg text-sm font-medium"
                                                        >
                                                            <i className="fas fa-plus mr-2"></i>
                                                            Agregar Servicio
                                                        </button>
                                                    )}
                                                </div>
                                                
                                                {usuarioActivo.servicios?.length > 0 ? (
                                                    <div className="space-y-4 mb-8">
                                                        {usuarioActivo.servicios.map((servicio, idx) => (
                                                            <div key={idx} className="bg-gray-50 rounded-lg p-4">
                                                                <div className="flex justify-between items-start mb-2">
                                                                    <p className="font-bold">{servicio.categoria}</p>
                                                                    {!modoEdicion && (
                                                                        <button
                                                                            onClick={() => eliminarServicio(idx)}
                                                                            className="text-red-600 hover:text-red-800 text-sm"
                                                                        >
                                                                            <i className="fas fa-trash"></i>
                                                                        </button>
                                                                    )}
                                                                </div>
                                                                <div className="flex flex-wrap gap-2 mb-3">
                                                                    {servicio.subcategorias.map((sub, i) => (
                                                                        <span key={i} className="text-xs bg-white border border-gray-200 px-3 py-1 rounded-full">
                                                                            {sub}
                                                                        </span>
                                                                    ))}
                                                                </div>
                                                                <p className="text-sm font-bold">
                                                                    Rango de precios: ${servicio.precioDesde} - ${servicio.precioHasta}
                                                                </p>
                                                                <p className="text-xs text-gray-600 mt-1">
                                                                    Comisión de plataforma: {usuarioActivo.comision}% (${calcularComision(servicio.precioDesde, usuarioActivo.comision)} - ${calcularComision(servicio.precioHasta, usuarioActivo.comision)})
                                                                </p>
                                                            </div>
                                                        ))}
                                                    </div>
                                                ) : (
                                                    <p className="text-gray-500 text-center py-8">No has agregado servicios aún</p>
                                                )}

                                                {usuarioActivo.portafolio?.length > 0 && (
                                                    <>
                                                        <h3 className="text-xl font-bold mb-4">Portafolio de Trabajos</h3>
                                                        <div className="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8">
                                                            {usuarioActivo.portafolio.map((imagen, idx) => (
                                                                <img
                                                                    key={idx}
                                                                    src={imagen}
                                                                    alt={`Trabajo ${idx + 1}`}
                                                                    className="w-full h-40 object-cover rounded-lg border border-gray-200"
                                                                />
                                                            ))}
                                                        </div>
                                                    </>
                                                )}
                                            </>
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>

                    {/* Modal */}
                    {mostrarModal && (
                        <div className="fixed inset-0 modal-overlay flex items-center justify-center z-50 p-4">
                            <div className="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                                {/* Modal Login */}
                                {tipoModal === 'login' && (
                                    <div className="p-8">
                                        <div className="flex justify-between items-center mb-6">
                                            <h3 className="text-2xl font-bold">Iniciar Sesión</h3>
                                            <button onClick={cerrarModal} className="text-gray-500 hover:text-black">
                                                <i className="fas fa-times text-xl"></i>
                                            </button>
                                        </div>
                                        <form onSubmit={handleLogin} className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-medium mb-2">Email</label>
                                                <input
                                                    type="email"
                                                    value={formLogin.email}
                                                    onChange={(e) => setFormLogin({...formLogin, email: e.target.value})}
                                                    className="w-full px-4 py-3 rounded-lg input-minimal"
                                                    placeholder="tu@email.com"
                                                    required
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium mb-2">Contraseña</label>
                                                <input
                                                    type="password"
                                                    value={formLogin.password}
                                                    onChange={(e) => setFormLogin({...formLogin, password: e.target.value})}
                                                    className="w-full px-4 py-3 rounded-lg input-minimal"
                                                    placeholder="••••••••"
                                                    required
                                                />
                                            </div>
                                            <button type="submit" className="w-full btn-primary py-3 rounded-lg font-medium">
                                                Entrar
                                            </button>
                                        </form>
                                        <p className="text-center text-sm text-gray-600 mt-4">
                                            ¿No tienes cuenta?{' '}
                                            <button onClick={() => setTipoModal('registro')} className="font-medium hover:underline">
                                                Regístrate aquí
                                            </button>
                                        </p>
                                    </div>
                                )}

                                {/* Modal Registro */}
                                {tipoModal === 'registro' && (
                                    <div className="p-8">
                                        <div className="flex justify-between items-center mb-6">
                                            <h3 className="text-2xl font-bold">Crear Cuenta</h3>
                                            <button onClick={cerrarModal} className="text-gray-500 hover:text-black">
                                                <i className="fas fa-times text-xl"></i>
                                            </button>
                                        </div>
                                        <form onSubmit={handleRegistro} className="space-y-4">
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium mb-2">Nombre completo</label>
                                                    <input
                                                        type="text"
                                                        value={formRegistro.nombre}
                                                        onChange={(e) => setFormRegistro({...formRegistro, nombre: e.target.value})}
                                                        className="w-full px-4 py-3 rounded-lg input-minimal"
                                                        required
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium mb-2">Email</label>
                                                    <input
                                                        type="email"
                                                        value={formRegistro.email}
                                                        onChange={(e) => setFormRegistro({...formRegistro, email: e.target.value})}
                                                        className="w-full px-4 py-3 rounded-lg input-minimal"
                                                        required
                                                    />
                                                </div>
                                            </div>
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium mb-2">Contraseña</label>
                                                    <input
                                                        type="password"
                                                        value={formRegistro.password}
                                                        onChange={(e) => setFormRegistro({...formRegistro, password: e.target.value})}
                                                        className="w-full px-4 py-3 rounded-lg input-minimal"
                                                        required
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium mb-2">Teléfono</label>
                                                    <input
                                                        type="tel"
                                                        value={formRegistro.telefono}
                                                        onChange={(e) => setFormRegistro({...formRegistro, telefono: e.target.value})}
                                                        className="w-full px-4 py-3 rounded-lg input-minimal"
                                                        required
                                                    />
                                                </div>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium mb-2">Ubicación</label>
                                                <input
                                                    type="text"
                                                    value={formRegistro.ubicacion}
                                                    onChange={(e) => setFormRegistro({...formRegistro, ubicacion: e.target.value})}
                                                    className="w-full px-4 py-3 rounded-lg input-minimal"
                                                    placeholder="Ciudad, Colonia"
                                                    required
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium mb-2">Tipo de cuenta</label>
                                                <div className="grid grid-cols-2 gap-4">
                                                    <button
                                                        type="button"
                                                        onClick={() => setFormRegistro({...formRegistro, tipo: 'cliente'})}
                                                        className={`p-4 rounded-lg border-2 transition ${formRegistro.tipo === 'cliente' ? 'border-black bg-gray-50' : 'border-gray-200'}`}
                                                    >
                                                        <i className="fas fa-user text-2xl mb-2"></i>
                                                        <p className="font-medium">Cliente</p>
                                                        <p className="text-xs text-gray-600">Busco servicios</p>
                                                    </button>
                                                    <button
                                                        type="button"
                                                        onClick={() => setFormRegistro({...formRegistro, tipo: 'tecnico'})}
                                                        className={`p-4 rounded-lg border-2 transition ${formRegistro.tipo === 'tecnico' ? 'border-black bg-gray-50' : 'border-gray-200'}`}
                                                    >
                                                        <i className="fas fa-tools text-2xl mb-2"></i>
                                                        <p className="font-medium">Técnico</p>
                                                        <p className="text-xs text-gray-600">Ofrezco servicios</p>
                                                    </button>
                                                </div>
                                            </div>
                                            <button type="submit" className="w-full btn-primary py-3 rounded-lg font-medium">
                                                Crear Cuenta
                                            </button>
                                        </form>
                                        <p className="text-center text-sm text-gray-600 mt-4">
                                            ¿Ya tienes cuenta?{' '}
                                            <button onClick={() => setTipoModal('login')} className="font-medium hover:underline">
                                                Inicia sesión aquí
                                            </button>
                                        </p>
                                    </div>
                                )}

                                {/* Modal Perfil de Técnico */}
                                {tipoModal === 'perfil' && tecnicoSeleccionado && (
                                    <div className="p-8">
                                        <div className="flex justify-between items-start mb-6">
                                            <div className="flex items-center gap-4">
                                                <img
                                                    src={tecnicoSeleccionado.foto}
                                                    alt={tecnicoSeleccionado.nombre}
                                                    className={`w-20 h-20 rounded-full object-cover border-2 border-gray-200 ${!usuarioActivo ? 'blur-privacy' : ''}`}
                                                />
                                                <div>
                                                    <div className="flex items-center gap-2 mb-1">
                                                        <h3 className={`text-2xl font-bold ${!usuarioActivo ? 'blur-privacy' : ''}`}>
                                                            {tecnicoSeleccionado.nombre}
                                                        </h3>
                                                        {tecnicoSeleccionado.verificado && (
                                                            <i className="fas fa-check-circle text-black" title="Verificado"></i>
                                                        )}
                                                    </div>
                                                    <p className="text-sm text-gray-600">{tecnicoSeleccionado.ubicacion}</p>
                                                    <div className="flex items-center gap-2 mt-2">
                                                        {renderEstrellas(tecnicoSeleccionado.calificacion)}
                                                        <span className="text-sm font-bold">{tecnicoSeleccionado.calificacion}</span>
                                                        <span className="text-xs text-gray-500">({tecnicoSeleccionado.totalTrabajos} trabajos)</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <button onClick={cerrarModal} className="text-gray-500 hover:text-black">
                                                <i className="fas fa-times text-xl"></i>
                                            </button>
                                        </div>

                                        <p className="text-gray-700 mb-6">{tecnicoSeleccionado.descripcion}</p>

                                        <div className="divider my-6"></div>

                                        <h4 className="text-lg font-bold mb-4">Servicios y Precios</h4>
                                        <div className="space-y-4 mb-6">
                                            {tecnicoSeleccionado.servicios.map((servicio, idx) => (
                                                <div key={idx} className="bg-gray-50 rounded-lg p-4">
                                                    <p className="font-bold mb-2">{servicio.categoria}</p>
                                                    <div className="flex flex-wrap gap-2 mb-3">
                                                        {servicio.subcategorias.map((sub, i) => (
                                                            <span key={i} className="text-xs bg-white border border-gray-200 px-3 py-1 rounded-full">
                                                                {sub}
                                                            </span>
                                                        ))}
                                                    </div>
                                                    <p className="text-sm font-bold">
                                                        ${servicio.precioDesde} - ${servicio.precioHasta}
                                                    </p>
                                                    <p className="text-xs text-gray-600 mt-1">
                                                        + Comisión de plataforma ({tecnicoSeleccionado.comision}%)
                                                    </p>
                                                </div>
                                            ))}
                                        </div>

                                        {tecnicoSeleccionado.portafolio.length > 0 && (
                                            <>
                                                <div className="divider my-6"></div>
                                                <h4 className="text-lg font-bold mb-4">Galería de Trabajos</h4>
                                                <div className="grid grid-cols-3 gap-3 mb-6">
                                                    {tecnicoSeleccionado.portafolio.map((imagen, idx) => (
                                                        <img
                                                            key={idx}
                                                            src={imagen}
                                                            alt={`Trabajo ${idx + 1}`}
                                                            className={`w-full h-32 object-cover rounded-lg border border-gray-200 ${!usuarioActivo ? 'blur-privacy' : ''}`}
                                                        />
                                                    ))}
                                                </div>
                                            </>
                                        )}

                                        <div className="divider my-6"></div>

                                        <div className="flex justify-between items-center mb-4">
                                            <h4 className="text-lg font-bold">Reseñas ({resenias.filter(r => r.tecnicoId === tecnicoSeleccionado.id).length})</h4>
                                            {usuarioActivo && usuarioActivo.tipo === 'cliente' && (
                                                <button
                                                    onClick={() => setTipoModal('resenia')}
                                                    className="btn-secondary px-4 py-2 rounded-lg text-sm font-medium"
                                                >
                                                    Escribir Reseña
                                                </button>
                                            )}
                                        </div>
                                        <div className="space-y-4 mb-6 max-h-60 overflow-y-auto">
                                            {resenias
                                                .filter(r => r.tecnicoId === tecnicoSeleccionado.id)
                                                .map(resenia => (
                                                    <div key={resenia.id} className="bg-gray-50 rounded-lg p-4">
                                                        <div className="flex justify-between items-start mb-2">
                                                            <div>
                                                                <p className={`font-bold text-sm ${!usuarioActivo ? 'blur-privacy' : ''}`}>
                                                                    {resenia.usuario}
                                                                </p>
                                                                <div className="flex items-center gap-2 mt-1">
                                                                    {renderEstrellas(resenia.calificacion, 'text-xs')}
                                                                    <span className="text-xs text-gray-500">{resenia.fecha}</span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <p className="text-sm text-gray-700">{resenia.comentario}</p>
                                                    </div>
                                                ))}
                                        </div>

                                        {usuarioActivo ? (
                                            <div className="flex gap-3">
                                                <a
                                                    href={`tel:${tecnicoSeleccionado.telefono}`}
                                                    className="flex-1 btn-secondary py-3 rounded-lg font-medium text-center"
                                                >
                                                    <i className="fas fa-phone mr-2"></i>
                                                    Llamar
                                                </a>
                                                <a
                                                    href={`mailto:${tecnicoSeleccionado.email}`}
                                                    className="flex-1 btn-primary py-3 rounded-lg font-medium text-center"
                                                >
                                                    <i className="fas fa-envelope mr-2"></i>
                                                    Contactar
                                                </a>
                                            </div>
                                        ) : (
                                            <div className="bg-gray-100 border-2 border-dashed border-gray-300 rounded-xl p-6 text-center">
                                                <i className="fas fa-lock text-4xl text-gray-400 mb-3"></i>
                                                <p className="font-bold text-gray-700 mb-2">Inicia sesión para contactar</p>
                                                <p className="text-sm text-gray-600 mb-4">Debes tener una cuenta para ver información de contacto y comunicarte con los técnicos</p>
                                                <button
                                                    onClick={() => {
                                                        cerrarModal();
                                                        abrirModal('login');
                                                    }}
                                                    className="btn-primary px-6 py-2 rounded-lg font-medium"
                                                >
                                                    Iniciar Sesión
                                                </button>
                                            </div>
                                        )}
                                    </div>
                                )}

                                {/* Modal Escribir Reseña */}
                                {tipoModal === 'resenia' && tecnicoSeleccionado && (
                                    <div className="p-8">
                                        <div className="flex justify-between items-center mb-6">
                                            <h3 className="text-2xl font-bold">Escribir Reseña</h3>
                                            <button onClick={() => setTipoModal('perfil')} className="text-gray-500 hover:text-black">
                                                <i className="fas fa-arrow-left text-xl"></i>
                                            </button>
                                        </div>
                                        <div className="mb-6">
                                            <p className="text-sm text-gray-600 mb-2">Calificación</p>
                                            <div className="flex gap-2">
                                                {[1, 2, 3, 4, 5].map(star => (
                                                    <button
                                                        key={star}
                                                        onClick={() => setFormResenia({...formResenia, calificacion: star})}
                                                        className="text-3xl"
                                                    >
                                                        <i className={`fas fa-star ${star <= formResenia.calificacion ? 'text-black' : 'text-gray-300'}`}></i>
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                        <div className="mb-6">
                                            <label className="block text-sm font-medium mb-2">Tu comentario</label>
                                            <textarea
                                                value={formResenia.comentario}
                                                onChange={(e) => setFormResenia({...formResenia, comentario: e.target.value})}
                                                className="w-full px-4 py-3 rounded-lg input-minimal h-32 resize-none"
                                                placeholder="Cuéntanos sobre tu experiencia..."
                                                required
                                            ></textarea>
                                        </div>
                                        <button
                                            onClick={handleEnviarResenia}
                                            className="w-full btn-primary py-3 rounded-lg font-medium"
                                        >
                                            Publicar Reseña
                                        </button>
                                    </div>
                                )}

                                {/* Modal Agregar Servicio */}
                                {tipoModal === 'agregarServicio' && (
                                    <div className="p-8">
                                        <div className="flex justify-between items-center mb-6">
                                            <h3 className="text-2xl font-bold">Agregar Servicio</h3>
                                            <button onClick={cerrarModal} className="text-gray-500 hover:text-black">
                                                <i className="fas fa-times text-xl"></i>
                                            </button>
                                        </div>
                                        
                                        <div className="space-y-4">
                                            <div>
                                                <label className="block text-sm font-medium mb-2">Categoría del servicio</label>
                                                <select
                                                    value={formServicio.categoria}
                                                    onChange={(e) => setFormServicio({...formServicio, categoria: e.target.value})}
                                                    className="w-full px-4 py-3 rounded-lg input-minimal"
                                                >
                                                    <option value="">Selecciona una categoría</option>
                                                    {categorias.map(cat => (
                                                        <option key={cat.id} value={cat.nombre}>{cat.nombre}</option>
                                                    ))}
                                                </select>
                                            </div>
                                            
                                            <div>
                                                <label className="block text-sm font-medium mb-2">Subcategorías (separadas por comas)</label>
                                                <textarea
                                                    value={formServicio.subcategorias}
                                                    onChange={(e) => setFormServicio({...formServicio, subcategorias: e.target.value})}
                                                    className="w-full px-4 py-3 rounded-lg input-minimal h-24 resize-none"
                                                    placeholder="Ej: Reparación de TV, Reparación de refrigeradores, Instalación de lavadoras"
                                                />
                                                <p className="text-xs text-gray-500 mt-1">Ingresa las especialidades separadas por comas</p>
                                            </div>
                                            
                                            <div className="grid grid-cols-2 gap-4">
                                                <div>
                                                    <label className="block text-sm font-medium mb-2">Precio desde ($)</label>
                                                    <input
                                                        type="number"
                                                        value={formServicio.precioDesde}
                                                        onChange={(e) => setFormServicio({...formServicio, precioDesde: e.target.value})}
                                                        className="w-full px-4 py-3 rounded-lg input-minimal"
                                                        placeholder="300"
                                                        min="0"
                                                    />
                                                </div>
                                                <div>
                                                    <label className="block text-sm font-medium mb-2">Precio hasta ($)</label>
                                                    <input
                                                        type="number"
                                                        value={formServicio.precioHasta}
                                                        onChange={(e) => setFormServicio({...formServicio, precioHasta: e.target.value})}
                                                        className="w-full px-4 py-3 rounded-lg input-minimal"
                                                        placeholder="1500"
                                                        min="0"
                                                    />
                                                </div>
                                            </div>
                                            
                                            <div className="bg-gray-50 rounded-lg p-4">
                                                <p className="text-sm font-medium mb-2">Vista previa de comisión:</p>
                                                {formServicio.precioDesde && formServicio.precioHasta && (
                                                    <p className="text-sm text-gray-700">
                                                        Comisión de plataforma ({usuarioActivo.comision}%): ${calcularComision(formServicio.precioDesde, usuarioActivo.comision)} - ${calcularComision(formServicio.precioHasta, usuarioActivo.comision)}
                                                    </p>
                                                )}
                                            </div>
                                            
                                            <button
                                                onClick={guardarServicio}
                                                className="w-full btn-primary py-3 rounded-lg font-medium"
                                            >
                                                <i className="fas fa-plus mr-2"></i>
                                                Agregar Servicio
                                            </button>
                                        </div>
                                    </div>
                                )}

                                {/* Modal Menú Móvil */}
                                {tipoModal === 'menu' && (
                                    <div className="p-8">
                                        <div className="flex justify-between items-center mb-6">
                                            <h3 className="text-2xl font-bold">Menú</h3>
                                            <button onClick={cerrarModal} className="text-gray-500 hover:text-black">
                                                <i className="fas fa-times text-xl"></i>
                                            </button>
                                        </div>
                                        
                                        {/* Navegación móvil */}
                                        <div className="space-y-4 mb-6">
                                            <button 
                                                onClick={() => {
                                                    setVistaActual('busqueda');
                                                    cerrarModal();
                                                }}
                                                className="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 transition font-medium"
                                            >
                                                <i className="fas fa-search mr-3"></i>
                                                Buscar Servicios
                                            </button>
                                            <button 
                                                onClick={() => {
                                                    setVistaActual('comoFunciona');
                                                    cerrarModal();
                                                }}
                                                className="w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 transition font-medium"
                                            >
                                                <i className="fas fa-info-circle mr-3"></i>
                                                Cómo Funciona
                                            </button>
                                        </div>

                                        <div className="divider my-6"></div>

                                        {/* Acciones de usuario móvil */}
                                        {usuarioActivo ? (
                                            <div className="space-y-3">
                                                <button 
                                                    onClick={() => {
                                                        setVistaActual('perfil');
                                                        cerrarModal();
                                                    }}
                                                    className="w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-50 transition"
                                                >
                                                    <img 
                                                        src={usuarioActivo.foto || 'https://i.pravatar.cc/150?img=1'} 
                                                        alt={usuarioActivo.nombre}
                                                        className="w-10 h-10 rounded-full object-cover border border-gray-200"
                                                    />
                                                    <div className="text-left">
                                                        <p className="font-bold">{usuarioActivo.nombre}</p>
                                                        <p className="text-xs text-gray-600">Ver mi perfil</p>
                                                    </div>
                                                </button>
                                                <button
                                                    onClick={() => {
                                                        setUsuarioActivo(null);
                                                        cerrarModal();
                                                    }}
                                                    className="w-full btn-secondary py-3 rounded-lg font-medium"
                                                >
                                                    <i className="fas fa-sign-out-alt mr-2"></i>
                                                    Cerrar Sesión
                                                </button>
                                            </div>
                                        ) : (
                                            <div className="space-y-3">
                                                <button
                                                    onClick={() => setTipoModal('login')}
                                                    className="w-full btn-secondary py-3 rounded-lg font-medium"
                                                >
                                                    Iniciar Sesión
                                                </button>
                                                <button
                                                    onClick={() => setTipoModal('registro')}
                                                    className="w-full btn-primary py-3 rounded-lg font-medium"
                                                >
                                                    Registrarse
                                                </button>
                                            </div>
                                        )}
                                    </div>
                                )}
                            </div>
                        </div>
                    )}

                    {/* Footer */}
                    <footer className="bg-black text-white py-12 mt-20">
                        <div className="container mx-auto px-4">
                            <div className="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                                <div>
                                    <div className="flex items-center gap-2 mb-4">
                                        <i className="fas fa-tools text-2xl"></i>
                                        <h3 className="text-xl font-bold">TechConnect</h3>
                                    </div>
                                    <p className="text-sm text-gray-400">
                                        Conectando problemas con soluciones desde 2024
                                    </p>
                                </div>
                                <div>
                                    <h4 className="font-bold mb-3">Plataforma</h4>
                                    <ul className="space-y-2 text-sm text-gray-400">
                                        <li><a href="#" className="hover:text-white transition">Buscar Servicios</a></li>
                                        <li><a href="#" className="hover:text-white transition">Ser Técnico</a></li>
                                        <li><a href="#" className="hover:text-white transition">Cómo Funciona</a></li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 className="font-bold mb-3">Soporte</h4>
                                    <ul className="space-y-2 text-sm text-gray-400">
                                        <li><a href="#" className="hover:text-white transition">Centro de Ayuda</a></li>
                                        <li><a href="#" className="hover:text-white transition">Términos y Condiciones</a></li>
                                        <li><a href="#" className="hover:text-white transition">Privacidad</a></li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 className="font-bold mb-3">Contacto</h4>
                                    <ul className="space-y-2 text-sm text-gray-400">
                                        <li>contacto@techconnect.com</li>
                                        <li>+52 55 1234 5678</li>
                                    </ul>
                                </div>
                            </div>
                            <div className="divider opacity-20 my-8"></div>
                            <p className="text-center text-sm text-gray-400">
                                &copy; 2025 TechConnect. Todos los derechos reservados.
                            </p>
                        </div>
                    </footer>
                </div>
            );
        }

        ReactDOM.render(<TechConnectApp />, document.getElementById('root'));
    </script>
</body>
</html>
